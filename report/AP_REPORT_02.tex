
\documentclass[a4paper, oneside, 11pt]{report}
\usepackage{minted}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{syntax}
\usepackage{epsfig,pifont,float,multirow,amsmath,amssymb}
\usepackage{hyperref}
\usepackage{enumitem}

\setlist{nolistsep}

\newcommand{\mc}{\multicolumn{1}{c|}}
\newcommand{\mb}{\mathbf}
\newcommand{\mi}{\mathit}
\newcommand{\oa}{\overrightarrow}
\newcommand{\bs}{\boldsymbol}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\usepackage{algorithm}
\usepackage{natbib}
\usepackage{algpseudocode}
\topmargin = 0pt
\voffset = -80pt
\oddsidemargin = 15pt
\textwidth = 425pt
\textheight = 750pt
\begin{document}

\begin{titlepage}
\begin{center}
\rule{12cm}{1mm} \\
\vspace{1cm}
{\large  CMP-6048A Advanced Programming} %Delete as appropriate
\vspace{7.5cm}
\\{\Large Project Report - 13 January 2025}
\vspace{1.5cm}
\\{\LARGE Vec3 Maths Bytecode Interpreter} % You can add to this title of modify it if you wish
\vspace{1.0cm}
\\{\Large Group members: \\ Jamie Wales, Jacob Edwards.\ }
\vspace{10.0cm}
\\{\large School of Computing Sciences, University of East Anglia}
\\ \rule{12cm}{0.5mm}
\\ \hspace{8.5cm} {\large Version 2.0}
\end{center}
\end{titlepage}


\setcounter{page}{1}

\begin{abstract}
Vec3 is a bytecode interpreted maths language complete with a GUI, plotting, full static type inference and various 
maths functions.
The language is designed to be simple to use and understand, with a focus on strict mathematical expressions and 
plotting, but with more powerful constructs such as recursive bindings, first class functions and static type inference.
The language and GUI are written in F\#, using Avalonia\citep{avalonia} for the GUI and ScottPlot\citep{scottPlot} for plotting.
    
The language is compiled to a custom bytecode, which is then interpreted by a virtual machine. 
The language also has the
ability to transpile to C, which can then be compiled and run as a standalone executable, allowing for faster execution of
the code.
    
It is a functional-style language, with a focus on immutability, recursion, expressions and correctness.

Some of the features of the language include:

\begin{itemize}
    \item Plotting of functions and data
    \item Recursive bindings
    \item First class functions
    \item Static type inference
    \item Strongly typed vector and matrix types
    \item Transpilation to C
    \item Async functions
    \item A GUI
    \item Lots of maths utilities, many of which are implemented in the language itself
\end{itemize}
    
We used an agile approach during development, where we would work on features in small iterations, with regular meetings
and discussions to ensure we were on track.
\end{abstract}

\chapter{Introduction}\label{ch:intro}

\section{Project statement}\label{sec:project-statement}

Vec3 is a bytecode interpreted maths language complete with a GUI, plotting, full static type inference and various
maths functions.
The language is designed to be simple to use and understand, with a focus on strict mathematical expressions and plotting,
but with more powerful constructs such as recursive bindings, first class functions and static type inference.
The language and GUI are written in F\#, using Avalonia\citep{avalonia} for the GUI and ScottPlot\citep{scottPlot} for plotting.

It also has the ability to transpile to C, which can then be compiled and run as a standalone executable, allowing for
faster execution of the code.

\section{Aims and objectives}\label{sec:aims-and-objectives}

% todo: moscow
The aim of the project is to create an easy to use maths language with a focus on plotting and mathematical
expressions, but with more powerful constructs such as recursive bindings, first class functions and static type 
inference, and ensuring as many features, both optional and mandatory, are implemented as possible and to a high 
standard.

\begin{table}[h]
    \caption{MoSCoW}
    \begin{center}
        \begin{tabular}{|p{1in}|p{2in}|p{2.5in}|} \hline
        Priority & Task & Comments \\ \hline \hline
        \multirow{3}{1in}{Must}
        & Arithmetic operations & +, -, /, *, \%, ^ \\ \cline{2-3}
        & Plotting & Plotting of functions and data \\ \cline{2-3}
        & Functions & User defined functions \\ \cline{2-3}
        & GUI & A GUI for the language with a text editor \\ \cline{2-3}
        & Maths tools & Lots of maths utilities (cos, etc) \\ \cline{2-3}
        \multirow{3}{1in}{Should}
        & Static typing & Static typing and analysis \\ \cline{2-3}
        & First class functions & First class functions \\ \cline{2-3}
        & Control flow & If statements, loops \\ \cline{2-3}
        & Compound data types & Vectors, matrices, records \\ \cline{2-3}
        \multirow{3}{1in}{Could}
        & Compilation & ByteCode compilation and interpretation \\ \cline{2-3}
        & Transpilation & Transpilation to C \\ \cline{2-3}
        & Async & Async functions \\ \cline{2-3}
        & Static type inference & Hindler-Miller type inference \\ \cline{2-3}
        & Error handling & Error handling \\ \cline{2-3}
        & Recursion & Recursive bindings \\ \cline{2-3}
        & Drawing & Drawing on the GUI \\ \cline{2-3}
        & Importing & Importing of external libraries \\ \cline{2-3}
        \multirow{3}{1in}{Should not}
        & Compilation & Compilation directly to ASM \\ \cline{2-3}
        & Transpilation & Transpilation to other languages \\ \cline{2-3}
        & GUI & A web-based GUI \\ \cline{2-3}
        & FFI & Foreign function interface \\ \cline{2-3}
        \end{tabular}
        \label{Table1}
    \end{center}
\end{table}


\chapter{Background}\label{ch:background}

\chapter{Development History}\label{ch:devhist}

\input{development-history}

\chapter{Final deliverable}\label{ch:impl}

\input{final-deliverable}

\chapter{Discussion, conclusion and future work}\label{ch:discussion-conclusion-and-future-work}

\bibliographystyle{apalike}
\bibliography{References}

\appendix
\chapter{Contributions}\label{ch:contributions}

50/50

\section{Jacob Edwards}\label{sec:jacob-edwards}

\begin{itemize}
    \item Lexer
    \item Parser
    \item Compiler
    \item Type inference
    \item Testing
    \item Documentation
\end{itemize}

\section{Jamie Wales}\label{sec:jamie-wales}

\begin{itemize}
    \item GUI
    \item Plotting
    \item Transpiler
    \item Testing
    \item Documentation
    \item Parser
    \item Compiler
    \item Lexer
\end{itemize}

\chapter{Testing}\label{ch:test}

The language has been tested thoroughly using .Net's built in unit testing framework, NUnit.
Unit tests have been written for the lexer, parser, compiler, type inference, compiler and transpiler.

Additionally, tests have been written in the language itself to test the language's features.

\section{Lexer testing}\label{sec:lexer-testing}

\section{Parser testing}\label{sec:parser-testing}

\section{Expression testing}\label{sec:arithmetic-expression-testing}

\section{Variable assignment testing}\label{sec:variable-assignment-testing}

\section{Function testing}\label{sec:function-testing}

\section{GUI testing}\label{sec:gui-testing}

\section{Plot testing}\label{sec:plot-testing}

\chapter{Syntax}\label{ch:other-stuff}

\end{document}

